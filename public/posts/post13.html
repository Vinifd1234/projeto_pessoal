<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acerca do estoicismo</title>
    <link rel="stylesheet" href="../styles/post.css">
</head>

<body>
    <div class="header">
        <div class="container">
            <h1>S.I.G</h1>
            <ul>
                <li><a href="../index.html">Home</a></li>
                <li><a href="../post.html">Artigos</a></li>
                <li><a id="nav_login" href="login.html"></a></li>
                <li id="li_sair"><a onclick="fnDeslogar()">Sair</a></li>
            </ul>
        </div>
    </div>

    <div class="conteudo">
        <div class="container">
            <div id="img_post" class="img"></div>
            <section>
                <p class="titulo">O que é estoicismo</p>
                <br>
                <p class="paragrafo">Estoicismo é uma escola e doutrina filosófica que surgiu na Grécia Antiga, que
                    preza a fidelidade ao conhecimento e o foco em tudo aquilo que pode ser controlado somente pela
                    própria pessoa, desprezando todos os tipos de sentimentos externos, como a paixão e os desejos
                    extremos.</p>
                <br>
                <p class="paragrafo">A escola estoica foi criada por Zenão de Cício, na cidade de Atenas, cerca de 300
                    a.C., porém a doutrina ficou efetivamente conhecida ao chegar em Roma. O seu tema central defendia
                    que todo o universo seria governado por uma lei natural divina e racional.</p>
                <br>
                <p class="paragrafo">Sendo assim, para o ser humano alcançar a verdadeira felicidade, deveria depender
                    apenas das suas “virtudes”, ou seja, os seus conhecimentos e valores, abdicando totalmente o
                    “vício”, que é considerado pelos estoicos um mal absoluto.</p>
                <br>
                <p class="paragrafo">O estoicismo também ensina a manter uma mente calma e racional, independente do que
                    aconteça. Ensina que isso ajuda o ser humano a reconhecer e se concentrar naquilo que pode controlar
                    e a não se preocupar e aceitar o que não pode controlar.</p>
                <br>
                <p class="paragrafo">Os princípios da filosofia estoica, que norteiam os seguidores da doutrina, são:
                </p>
                <br>
                <ul>
                    <li>A virtude é o único bem e caminho para a felicidade;</li>
                    <li>A pessoa deve sempre priorizar o conhecimento e o agir com a razão;</li>
                    <li>O prazer é um inimigo do homem sábio;</li>
                    <li>O universo é governado por uma razão universal natural e divina;</li>
                    <li>As atitudes têm mais valor que as palavras, ou seja, o que é feito tem mais importância do que é
                        dito;</li>
                    <li>Os sentimentos externos tornam o homem um ser irracional e não imparcial;</li>
                    <li>Não se deve perguntar porque algo aconteceu na sua vida e sim, aceitar sem reclamar, focando
                        apenas no que pode ser modificado e controlado naquela situação;</li>
                    <li>Agir de forma prudente e assumir a responsabilidade sobre os seus atos;</li>
                    <li>Tudo ao nosso redor acontece de acordo com uma lei de causa e efeito;</li>
                    <li>A vida e as circunstâncias não são idealizadas. O indivíduo precisa conviver e aceitar a sua
                        vida da forma que ela é.</li>
                </ul>
                <br>
                <p class="titulo">O principal filósofo Estóico: Um imperador</p>
                <br>
                <p class="paragrafo">Marco Aurélio era um imperador romano poderoso, que seguiu o estoicismo durante os
                    seus 19 anos de reinado. Ficou conhecido por sua paz e tranquilidade, mesmo em meio aos problemas
                    enfrentados pelo seu reino, encarando as circunstâncias de forma racional.</p>
                <br>
                <p class="paragrafo">Ele compilou os seus pensamentos e conclusões sobre a vida num livro chamado,
                    Meditações de Marco Aurélio.</p>
                <br>
                <p class="paragrafo">Uma frase de Marco Aurélio que resume bem o pensamento estoico é:</p>
                <br>
                <p class="paragrafo">“A felicidade da sua vida depende da qualidade dos seus pensamentos.”</p>

            </section>
            <div class="comentarios" id="comentarios">
                <div class="titulo">
                    <p>Comentários da postagem</p>
                </div>

            </div>

            <section id="comentar" class="comentar">
                <textarea placeholder="Faça seu comentário..." id="textoarea" rows="4" cols="50">
                    </textarea>
                <button id="btnComentar" onclick="fnComentar()">Comentar</button>
            </section>
        </div>
    </div>
    </div>

    <div class="footer">
        <div class="container">
            <div class="rights">
                <p>S.I.G - Todos os direitos reservados.</p>
            </div>
        </div>
    </div>
</body>

</html>
<script>
    // Criação de uma variavel de armazenamento local, essencial para o sistema de sessão

    // Atualizando a imagem de fundo da postagem
    img_post.style.backgroundImage = "url('../img/posts/Espiritual/2.jpg')";

    textoarea.innerHTML = "";

    /* Código revisado e comentado em 5/12/21 por: Vinicius Oliveira*/

    var Armazenamento_local = localStorage;
    // Obtendo o valor da chave "logado" no armazenamento local. Que é atribuído como verdadeiro caso o usuário tenha feito login
    var logado = Armazenamento_local.getItem("logado");
    var admin = Armazenamento_local.getItem("admin");
    // Por mais que seja definido como "true", a variavel armazenada no armazenamento local é convertida pra string, sendo assim, é necessário fazer a conversão para valor booleano
    if (logado == "true") {
        logado = true;
    } else {
        logado = false;
    }

    if (logado) {
        //Habilita a função de deslogar, caso o usuário esteja logado.
        li_sair.style.display = "block";
        var id_usuario = Number(Armazenamento_local.getItem('id'));
       
        nav_login.innerHTML = `${Armazenamento_local.getItem("nome_usuario")}`;
        nav_login.href = "../admin.html";

    } else {
        li_sair.style.display = "none";
        nav_login.style.display = "block";
        nav_login.href = "../login.html"
        nav_login.innerHTML = "Login"
        textoarea.innerHTML = "Faça seu login para comentar.";
        textoarea.disabled = true;
        btnComentar.style.display = "none";

    }

    function fnDeslogar() {
        Armazenamento_local.setItem("id", null);
        Armazenamento_local.setItem("id_modificacao", null);
        Armazenamento_local.setItem("nome_usuario", null);
        Armazenamento_local.setItem("sobrenome_usuario", null);
        Armazenamento_local.setItem("email_usuario", null);
        Armazenamento_local.setItem("telefone_usuario", null);
        Armazenamento_local.setItem("logado", false);
        Armazenamento_local.setItem("admin", false);
        window.location = "index.html";
    }

    function fnComentar() {

        if (logado) {
            // var section = document.createElement("section");
            //  var p = document.createElement("p");
            var text = textoarea.value;

            if(text != ""){

            
            const dados = {
                id_postador: Number(Armazenamento_local.getItem("id")),
                corpo_comentario: text.trim(),
                id_post: 13
            }
            fetch("/postagens/postar_comentario", {
                method: "POST",
                headers: {
                    // Informando que o tipo de corpo que será enviado será JSON
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(dados)
            }).then(function (resposta) {
                window.location = "post13.html";

            })
                .catch(function (erro) {
                    console.log(erro);
                })
            }else{
                alert("O comentário não pode ser vazio!");
            }
        } else {
            alert("Faça seu login para comentar.");
        }



    }
    fetch("/postagens/listar_comentarios", {
        method: "POST",
        headers: {
            // Informando que o tipo de corpo que será enviado será JSON
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            id_post: 13
        })
    })
        .then(
            function (resposta) {
                console.log(resposta);
                resposta.json()
                    .then(function (dados) {
                        console.log(dados);

                        for (let i = 0; i < dados.length; i++) {
                            comentarios.innerHTML += `
                        <p><span id="usuario">${dados[i].nomeUsuario}</span> comentou: ${dados[i].corpoComentario}</p>
                        
                        `;
                        }
                    })
            }
        )
        .catch(function (erro) {
            console.log(erro)
        })



</script>